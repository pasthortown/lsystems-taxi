<div class="container">
   <div class="row">
      <div class="col-md-12 text-right">
         <h2 style="margin-top:0px">Viajes realizados</h2>
      </div>
   </div>
   <div class="col-12">
      <div class="col-12">
         <h4 class="text-left" style="border-bottom: 1px solid black;" >Filtrar Por:</h4>
      </div>
      <div class="form-group row" >
        <div class="col-4">
            <label for="idCliente" class="col-12 col-form-label">Cliente</label>
            <div class="col-12">
                <select class="form-control" id="idCliente" name="idCliente" [(ngModel)]="idClienteSeleccionado">
                    <option value="0" selected>Todos</option>
                    <option *ngFor="let cliente of clientes" value={{cliente.id}}>{{cliente.NombreCompleto}}</option>
                </select>
            </div>
        </div>
        <div class="col-4">
            <label for="idUnidad" class="col-12 col-form-label">Unidad</label>
            <div class="col-12">
                <select class="form-control" id="idUnidad" name="idUnidad" [(ngModel)]="idUnidadSeleccionada">
                    <option value="0" selected>Todas</option>
                    <option *ngFor="let unidad of unidades" value={{unidad.id}}>{{unidad.numero}} {{unidad.placa}}</option>
                </select>
            </div>
        </div>
        <div class="col-4">
            <label for="idConductor" class="col-12 col-form-label">Conductor</label>
            <div class="col-12">
                <select class="form-control" id="idConductor" name="idConductor" [(ngModel)]="idConductorSeleccionado">
                    <option value="0" selected>Todos</option>
                    <option *ngFor="let conductor of conductores" value={{conductor.id}}>{{conductor.NombreCompleto}}</option>
                </select>
            </div>
        </div>
      </div>
      <div class="form-group row" >
        <div class="col-6">
            <label for="idConductor" class="col-12 col-form-label">Desde</label>
            <div class="col-12">
                <input type="date" class="form-control" id="desde" name="desde" [ngModel]="fechaDesde | date:'y-MM-dd'" (ngModelChange)="fechaDesde = $event">
            </div>
        </div>
        <div class="col-6">
            <label for="idConductor" class="col-12 col-form-label">Hasta</label>
            <div class="col-12">
                <input type="date" class="form-control" id="hasta" name="hasta" [ngModel]="fechaHasta | date:'y-MM-dd'" (ngModelChange)="fechaHasta = $event">
            </div>
        </div>
      </div>
      <div class="form-group row" >
          <div style="float:left;width:100%;text-align:center;">
            <button type="button" class="btn btn-primary col-offset-sm-4" (click)="getAll()">
                <span class="fa fa-search"></span>&nbsp;Buscar
            </button>
          </div>
      </div>
   </div>
   <div class="col-12" *ngIf="mostrarResultados">
        <div class="col-12">
            <h4 class="text-center" style="border-bottom: 2px solid black;" >Resultados</h4>
        </div>
        <div class="row" style="margin-top:15px">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <table class="table table-striped table-bordered">
                    <thead class="thead-dark">
                    <tr>
                        <th>
                        </th>
                        <th scope="col">
                            <span>
                                <strong>Inicio</strong>
                            </span>
                        </th>
                        <th scope="col">
                            <span>
                                <strong>Fin</strong>
                            </span>
                        </th>
                        <th scope="col">
                            <span>
                                <strong>Unidad</strong>
                            </span>
                        </th>
                        <th scope="col">
                            <span>
                                <strong>Conductor</strong>
                            </span>
                        </th>
                        <th scope="col">
                            <span>
                                <strong>Cliente</strong>
                            </span>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let actual of entidades" (click)="onSelect(actual)">
                        <td>
                            <i class="fa fa-hand-o-right" [hidden]="!estaSeleccionado(actual)"></i>
                        </td>
                        <td>{{actual.fechaInicio | date:'y-MM-dd H:m:s'}}</td>
                        <td>{{actual.fechaFin | date:'y-MM-dd H:m:s'}}</td>
                        <td>{{actual.Unidad}}</td>
                        <td>{{actual.Conductor}}</td>
                        <td>{{actual.Usuario}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
   </div>
   <div class="col-12">
        <div class="col-12">
            <h4 class="text-center" style="border-bottom: 2px solid black;">Ruta</h4>
        </div>
        <div class="col-12">
            <div class="form-group row">
                <div #gmap class="col-12" style="height:500px;"></div>
            </div>
        </div>
   </div>
</div>
